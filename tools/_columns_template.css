{%- macro column(v) -%}
    {%- for i in columns -%}
        {%- for j in columns -%}
            {%- if j < i -%}.v{{ v }}-{{ j }}-of-{{ i }} {width: {{ j/i*100 }}%}
    {%- endif -%}
        {%- endfor %}
    {%- endfor -%}
{%- endmacro -%}

{%- macro query(min, max) %}
@media (min-width: {{ min }}px) {% if max %}and (max-width: {{ max }}px) {% endif %}{
    .v{{ min }}-hide {display: none !important}
}

@media (min-width: {{ min }}px) {
    .v{{ min }}-1 {width: 100%}
    {{ column(min) }}
    .v{{ min }}-padding           {padding:        10px}
    .v{{ min }}-padding-top       {padding-top:    10px}
    .v{{ min }}-padding-left      {padding-left:   10px}
    .v{{ min }}-padding-right     {padding-right:  10px}
    .v{{ min }}-padding-bottom    {padding-bottom: 10px}
    .v{{ min }}-no-padding-top    {padding-top:    0}
    .v{{ min }}-no-padding-left   {padding-left:   0}
    .v{{ min }}-no-padding-right  {padding-right:  0}
    .v{{ min }}-no-padding-bottom {padding-bottom: 0}
}
{% endmacro -%}

{%- for index, width in viewports -%}
    {%- if loop.last -%}
        {{ query(width) }}
    {%- else -%}
        {{ query(width, viewports[index+1]-1) }}
    {%- endif -%}
{%- endfor -%}
